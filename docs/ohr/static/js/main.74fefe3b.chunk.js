(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],[,,,,,function(e,t,n){e.exports=n(14)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(4),c=n.n(l),u=(n(10),n(1)),o=n(2),m=(n(11),function(e){var t=e.className,n=Object(o.a)(e,["className"]);return r.a.createElement("button",Object.assign({className:"button "+t},n))}),i=(n(12),function(e){var t=e.name,n=void 0===t?"":t,a=e.value,l=e.label,c=Object(o.a)(e,["name","value","label"]);return r.a.createElement("div",{className:"textArea_wrapper"},r.a.createElement("label",{className:"text-area_label",htmlFor:"text-area"},l),r.a.createElement("textarea",Object.assign({className:"text-area_area",id:"text-area",name:n,value:a},c)))}),s=function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],l=t[1],c=Object(a.useState)("newform"),o=Object(u.a)(c,2),s=o[0],f=o[1];Object(a.useEffect)((function(){"submitted"===s&&(f("pending"),fetch("https://ohr-server.herokuapp.com/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})}).then((function(e){e.ok?(f("success"),l("")):f("error")})).catch((function(e){f("error")})))}),[s,n]);return"error"===s?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Something went wrong with that submission."),r.a.createElement(m,{onClick:function(){return f("submitted")}},"Try again?"),r.a.createElement(m,{onClick:function(){l(""),f("newform")}},"Reset")):"success"===s?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Submitted successfully"),r.a.createElement(m,{onClick:function(){return f("newform")}},"Add another?")):r.a.createElement(r.a.Fragment,null,"pending"===s&&r.a.createElement("p",null,"Submitting"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),f("submitted")}},r.a.createElement("fieldset",{disabled:"submitted"===s},r.a.createElement(i,{label:"Entry",value:n,onChange:function(e){return l(e.target.value)},autoFocus:!0}),r.a.createElement(m,{type:"submit"},"Save post"))))},f=Symbol("loading"),b=function(){var e=Object(a.useState)(f),t=Object(u.a)(e,2),n=t[0],l=t[1];return Object(a.useEffect)((function(){fetch("https://ohr-server.herokuapp.com/post").then((function(e){return e.json()})).then((function(e){var t=e.data;return l(t)}))}),[]),n===f?"Loading":r.a.createElement("ul",null,n.map((function(e){var t=e.id,n=e.text;return r.a.createElement("li",{key:t},n)})))};var E=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Ohr")),r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("h2",null,"Submit a post"),r.a.createElement(s,null)),r.a.createElement("section",null,r.a.createElement("h2",null,"Recent Posts"),r.a.createElement(b,null))))};n(13);var p=function(){return r.a.createElement(E,null)};c.a.render(r.a.createElement(p,null),document.getElementById("root"))}],[[5,1,2]]]);
//# sourceMappingURL=main.74fefe3b.chunk.js.map