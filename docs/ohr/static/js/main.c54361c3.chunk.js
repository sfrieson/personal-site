(this.webpackJsonpweb=this.webpackJsonpweb||[]).push([[0],{10:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(3),c=n.n(o),l=(n(9),n(1)),u=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],o=t[1],c=Object(a.useState)("newform"),u=Object(l.a)(c,2),i=u[0],m=u[1];Object(a.useEffect)((function(){"submitted"===i&&(m("pending"),fetch("https://ohr-server.herokuapp.com/post",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:n})}).then((function(e){e.ok?(m("success"),o("")):m("error")})).catch((function(e){m("error")})))}),[i,n]);return"error"===i?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Something went wrong with that submission."),r.a.createElement("button",{onClick:function(){return m("submitted")}},"Try again?"),r.a.createElement("button",{onClick:function(){o(""),m("newform")}},"Reset")):"success"===i?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,"Submitted successfully"),r.a.createElement("button",{onClick:function(){return m("newform")}},"Add another?")):r.a.createElement(r.a.Fragment,null,"pending"===i&&r.a.createElement("p",null,"Submitting"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),m("submitted")}},r.a.createElement("fieldset",{disabled:"submitted"===i},r.a.createElement("textarea",{value:n,onChange:function(e){return o(e.target.value)},autoFocus:!0}),r.a.createElement("input",{type:"submit"}))))},i=Symbol("loading"),m=function(){var e=Object(a.useState)(i),t=Object(l.a)(e,2),n=t[0],o=t[1];return Object(a.useEffect)((function(){fetch("https://ohr-server.herokuapp.com/post").then((function(e){return e.json()})).then((function(e){var t=e.data;return o(t)}))}),[]),n===i?"Loading":r.a.createElement("ul",null,n.map((function(e){var t=e.id,n=e.text;return r.a.createElement("li",{key:t},n)})))};var s=function(){return r.a.createElement("div",null,r.a.createElement("header",null,r.a.createElement("h1",null,"Ohr")),r.a.createElement("main",null,r.a.createElement("section",null,r.a.createElement("h2",null,"Submit a post"),r.a.createElement(u,null)),r.a.createElement("section",null,r.a.createElement("h2",null,"Recent Posts"),r.a.createElement(m,null))))};var f=function(){return r.a.createElement(s,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(f,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},4:function(e,t,n){e.exports=n(10)},9:function(e,t,n){}},[[4,1,2]]]);
//# sourceMappingURL=main.c54361c3.chunk.js.map